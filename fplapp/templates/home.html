{% extends 'fplbase.html' %}

{% block head %}
{% endblock head%}

{% block body %}

<div class="flash_container">
  {% with messages = get_flashed_messages(with_categories = true) %}
    {% if messages %}
      {% for category, message in messages %}
      <div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
        <span>{{ message }}</span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
</div>

<div class="container">
  <div class="row justify-content-md-center pt-3">
    <div class="col text-center">
      <h1 class="display-1">Am I Winning My FPL League?</h1>
    </div>
      
    
  </div>
    <div class="row justify-content-md-center pt-3">
        <div class="col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto form bg-light p-4 home-form border border-info rounded-4 shadow">

            <form method='POST' action='/selectteam' class="needs-validation" novalidate>
                <div class="mb-3">
                  <label for="leagueID" class="form-label">Team ID</label>
                  <input type="text" class="form-control" id="userID" name="userID" pattern="[0-9]{7}" placeholder="Enter a valid team ID" aria-describedby="userIDHelp" required>
                  <div class="invalid-feedback text-center">
                    Please enter a vaild team ID. Must be 7 numbers.
                  </div>
                </div>
                
                <button type="submit" class="btn btn-primary">Submit</button>
              </form>
        </div>
    </div>
    
</div>

<script>
  var forms = document.querySelectorAll('.needs-validation');

 // Loop over them and prevent submission
 Array.prototype.slice.call(forms)
 .forEach(function (form) {
     form.addEventListener('submit', function (event) {
     if (!form.checkValidity()) {
         event.preventDefault();
         event.stopPropagation();
     }

     form.classList.add('was-validated');
     }, false);
 });
</script>
{% endblock %}